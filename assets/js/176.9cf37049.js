(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{658:function(_,v,t){"use strict";t.r(v);var e=t(5),r=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("p",[_._v("[toc]")]),_._v(" "),t("h3",{attrs:{id:"问页面有几个模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问页面有几个模块"}},[_._v("🌙")]),_._v(" 问页面有几个模块")]),_._v(" "),t("ul",[t("li",[_._v("答: 八个")]),_._v(" "),t("li",[_._v("答: 首页菜单以及数据总览 近三天的 和近七天的 还有三个月的 下方由 Each 绘制的表图与圆形柱状图")]),_._v(" "),t("li",[t("img",{attrs:{src:"51587D3AAC654E6199E0A12E67F221C1",alt:"image"}})]),_._v(" "),t("li",[_._v("第二项客户管理里有\n"),t("ul",[t("li",[_._v("客户库(销售) : 搜索 重置(删除搜索框内容) 创建")]),_._v(" "),t("li",[_._v("待审批: 搜索")]),_._v(" "),t("li",[_._v("开站管理: 搜索 新增 导出(csv) "),t("img",{attrs:{src:"8AA13BD0F38143C0BE724521A195F52E",alt:"image"}}),_._v("  | "),t("img",{attrs:{src:"877DF00B08B844BE882BF941C4E315DF",alt:"image"}})]),_._v(" "),t("li",[_._v("客户库(客户服务中心): 搜索 搜索框重置 导出 选择显示字段点击显示隐藏")])])]),_._v(" "),t("li",[_._v("数据展示里是用 Each 写的一些 页面和图表")])]),_._v(" "),t("h3",{attrs:{id:"布局是你做的吗"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#布局是你做的吗"}},[_._v("🌙")]),_._v(" 布局是你做的吗")]),_._v(" "),t("ul",[t("li",[_._v("答: 是! 语气笃定自信一些")]),_._v(" "),t("li",[_._v("UI 设计师我做的 常见的一些布局是我做的 完成的都很好 像一些动画 查一下也可以完成 页面布局方面 布局方面没有自己解决不了的问题")])]),_._v(" "),t("h3",{attrs:{id:"session-是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session-是什么"}},[_._v("🌙")]),_._v(" session 是什么")]),_._v(" "),t("ul",[t("li",[_._v("session 服务端技术,以为会话控制; 和 cookie 不同, session 是保存在服务器上的,而且并不会随着 http 传递, session 的诞生主要是因为 cookie 存储不安全 所以有了 session 在服务器里来储存一些用户的登录状态和用户 ID 等敏感信息")]),_._v(" "),t("li",[_._v("二者的联系 cookie 中保存着 session 的 id ,在 http 请求中会带着 cookie 请求,服务端从 cookie 中获取 session 的id")])]),_._v(" "),t("h3",{attrs:{id:"token-的原理与用处"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#token-的原理与用处"}},[_._v("🌙")]),_._v(" toKen 的原理与用处")]),_._v(" "),t("ul",[t("li",[_._v("toKen 是一种机制")]),_._v(" "),t("li",[_._v("一般在用户登录时,客户点会把用户的用户名密码传递给服务器,服务端进行校验,如果没有问题,就会生成一个 toKen;")]),_._v(" "),t("li",[_._v("toKen 是一个字符串, 这个字符串一般是加密过的,一般包含了用户 ID 登录的时间戳,以及 sign(签名,生成 toKen 的前几位进行加密的结果,可以防止 toKen 被篡改,一旦发生改变后面这一段就和前面的对不上了)")]),_._v(" "),t("li",[_._v("生成 toKen 后, 服务器把 toKen 返回给前端,然后前端下次请求带上这个 toKen ,然后服务端在接收到请求后会首先验证这个 toKen 是否有效,如果有效继续受理请求,如果无效则直接拒绝")]),_._v(" "),t("li",[_._v("服务端可以把 toKen 写进 cookie 中 下次客户端发请求直接带上,也可以作为数据返回给前端,但是前端需要保存下这个 toKen 可以保存在 localStorage 下次发请求时从 ls 中取出来传给服务器")]),_._v(" "),t("li",[_._v("服务器返回 toKen 后,客户端可以把这个写进请求头中,然后服务端没次从请求头中 获取")])]),_._v(" "),t("h3",{attrs:{id:"ssr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[_._v("🌙")]),_._v(" ssr")]),_._v(" "),t("h3",{attrs:{id:"后台交互"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台交互"}},[_._v("🌙")]),_._v(" 后台交互")]),_._v(" "),t("ul",[t("li",[_._v("答: 前后端分离 通过接口的形式进行交互 axios 请求数据")])]),_._v(" "),t("h3",{attrs:{id:"防-sql-注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防-sql-注入"}},[_._v("🌙")]),_._v(" 防 SQL 注入")]),_._v(" "),t("ul",[t("li",[t("p",[_._v("SQL 使用查询语句 常见的前端进行输入验证要把一些特殊的符号过滤掉 前端的框架是可以自动过滤掉饿后端的框架有着功能")])]),_._v(" "),t("li",[t("p",[_._v("SQL注入是比较常见的网络攻击方式之一，它不是利用操作系统的BUG来实现攻击，而是针对程序员编程时的疏忽，通过SQL语句，实现无帐号登录，甚至篡改数据库。")])]),_._v(" "),t("li",[t("p",[_._v("SQL注入攻击的总体思路")]),_._v(" "),t("ul",[t("li",[_._v("1.寻找到SQL注入的位置")]),_._v(" "),t("li",[_._v("2.判断服务器类型和后台数据库类型")]),_._v(" "),t("li",[_._v("3.针对不通的服务器和数据库特点进行SQL注入攻击")])])]),_._v(" "),t("li",[t("p",[_._v("SQL注入攻击实例")])])]),_._v(" "),t("p",[_._v("比如在一个登录界面，要求输入用户名和密码：")]),_._v(" "),t("p",[_._v("可以这样输入实现免帐号登录：")]),_._v(" "),t("p",[_._v("用户名： ‘or 1 = 1 –")]),_._v(" "),t("p",[_._v("密 码：")]),_._v(" "),t("p",[_._v("点登陆,如若没有做特殊处理,那么这个非法用户就很得意的登陆进去了.(当然现在的有些语言的数据库API已经处理了这些问题)")]),_._v(" "),t("p",[_._v("这是为什么呢? 下面我们分析一下：")]),_._v(" "),t("p",[_._v("从理论上说，后台认证程序中会有如下的SQL语句：")]),_._v(" "),t("p",[_._v('String sql = "select * from user_table where username=')]),_._v(" "),t("p",[_._v('\' "+userName+" \' and password=\' "+password+" \'";')]),_._v(" "),t("p",[_._v("当输入了上面的用户名和密码，上面的SQL语句变成：")]),_._v(" "),t("p",[_._v("SELECT * FROM user_table WHERE username=")]),_._v(" "),t("p",[_._v("'’or 1 = 1 -- and password='’")]),_._v(" "),t("p",[_._v("分析SQL语句：")]),_._v(" "),t("p",[_._v("条件后面username=”or 1=1 用户名等于 ” 或1=1 那么这个条件一定会成功；")]),_._v(" "),t("p",[_._v("然后后面加两个-，这意味着注释，它将后面的语句注释，让他们不起作用，这样语句永远都能正确执行，用户轻易骗过系统，获取合法身份。")]),_._v(" "),t("p",[_._v("这还是比较温柔的，如果是执行")]),_._v(" "),t("p",[_._v("SELECT * FROM user_table WHERE")]),_._v(" "),t("p",[_._v("username='' ;DROP DATABASE (DB Name) --' and password=''")]),_._v(" "),t("p",[_._v("….其后果可想而知…")]),_._v(" "),t("ul",[t("li",[_._v("四、应对方法")])]),_._v(" "),t("p",[_._v("下面我针对JSP，说一下应对方法：")]),_._v(" "),t("p",[_._v("1.（简单又有效的方法）PreparedStatement")]),_._v(" "),t("p",[_._v("采用预编译语句集，它内置了处理SQL注入的能力，只要使用它的setXXX方法传值即可。")]),_._v(" "),t("p",[_._v("使用好处：")]),_._v(" "),t("p",[_._v("(1).代码的可读性和可维护性.")]),_._v(" "),t("p",[_._v("(2).PreparedStatement尽最大可能提高性能.")]),_._v(" "),t("p",[_._v("(3).最重要的一点是极大地提高了安全性.")]),_._v(" "),t("p",[_._v("原理：")]),_._v(" "),t("p",[_._v("sql注入只对sql语句的准备(编译)过程有破坏作用")]),_._v(" "),t("p",[_._v("而PreparedStatement已经准备好了,执行阶段只是把输入串作为数据处理,")]),_._v(" "),t("p",[_._v("而不再对sql语句进行解析,准备,因此也就避免了sql注入问题.")]),_._v(" "),t("p",[_._v("2.使用正则表达式过滤传入的参数")]),_._v(" "),t("p",[_._v("要引入的包：")]),_._v(" "),t("p",[_._v("import java.util.regex.*;")]),_._v(" "),t("p",[_._v("正则表达式：")]),_._v(" "),t("p",[_._v("private String CHECKSQL = “^(.+)\\sand\\s(.+)|(.+)\\sor(.+)\\s$”;")]),_._v(" "),t("p",[_._v("判断是否匹配：")]),_._v(" "),t("p",[_._v("Pattern.matches(CHECKSQL,targerStr);")]),_._v(" "),t("p",[_._v("下面是具体的正则表达式：")]),_._v(" "),t("p",[_._v("检测SQL meta-characters的正则表达式 ：")]),_._v(" "),t("p",[_._v("/(%27)|(\\’)|(--)|(%23)|(#)/ix")]),_._v(" "),t("p",[_._v("修正检测SQL meta-characters的正则表达式 ：/((%3D)|(=))[^\\n]*((%27)|(\\’)|(--)|(%3B)|(😃)/i")]),_._v(" "),t("p",[_._v("典型的SQL 注入攻击的正则表达式 ：/\\w*((%27)|(\\’))((%6F)|o|(%4F))((%72)|r|(%52))/ix")]),_._v(" "),t("p",[_._v("检测SQL注入，UNION查询关键字的正则表达式 ：/((%27)|(\\’))union/ix(%27)|(\\’)")]),_._v(" "),t("p",[_._v("检测MS SQL Server SQL注入攻击的正则表达式：")]),_._v(" "),t("p",[_._v("/exec(\\s|+)+(s|x)p\\w+/ix")]),_._v(" "),t("p",[_._v("等等…..")]),_._v(" "),t("p",[_._v("3.字符串过滤")]),_._v(" "),t("p",[_._v("比较通用的一个方法：")]),_._v(" "),t("p",[_._v("（||之间的参数可以根据自己程序的需要添加）")]),_._v(" "),t("p",[_._v("public static boolean sql_inj(String str){")]),_._v(" "),t("p",[_._v("String inj_str = \"'|and|exec|insert|select|delete|update|")]),_._v(" "),t("p",[_._v('count|*|%|chr|mid|master|truncate|char|declare|;|or|-|+|,";')]),_._v(" "),t("p",[_._v('String inj_stra[] = split(inj_str,"|");')]),_._v(" "),t("p",[_._v("for (int i=0 ; i < inj_stra.length ; i++ ){")]),_._v(" "),t("p",[_._v("if (str.indexOf(inj_stra[i])>=0){")]),_._v(" "),t("p",[_._v("return true;")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("return false;")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("4.jsp中调用该函数检查是否包函非法字符")]),_._v(" "),t("p",[_._v("防止SQL从URL注入：")]),_._v(" "),t("p",[_._v("sql_inj.java代码：")]),_._v(" "),t("p",[_._v("package sql_inj;")]),_._v(" "),t("p",[_._v("import java.net.*;")]),_._v(" "),t("p",[_._v("import java.io.*;")]),_._v(" "),t("p",[_._v("import java.sql.*;")]),_._v(" "),t("p",[_._v("import java.text.*;")]),_._v(" "),t("p",[_._v("import java.lang.String;")]),_._v(" "),t("p",[_._v("public class sql_inj{")]),_._v(" "),t("p",[_._v("public static boolean sql_inj(String str){")]),_._v(" "),t("p",[_._v("String inj_str = \"'|and|exec|insert|select|delete|update|")]),_._v(" "),t("p",[_._v('count|*|%|chr|mid|master|truncate|char|declare|;|or|-|+|,";')]),_._v(" "),t("p",[_._v("//这里的东西还可以自己添加")]),_._v(" "),t("p",[_._v('String[] inj_stra=inj_str.split("\\|");')]),_._v(" "),t("p",[_._v("for (int i=0 ; i < inj_stra.length ; i++ ){")]),_._v(" "),t("p",[_._v("if (str.indexOf(inj_stra[i])>=0){")]),_._v(" "),t("p",[_._v("return true;")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("return false;")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("5.JSP页面判断代码：")]),_._v(" "),t("p",[_._v("使用javascript在客户端进行不安全字符屏蔽")]),_._v(" "),t("p",[_._v("功能介绍：检查是否含有”‘”,”\\”,”/”")]),_._v(" "),t("p",[_._v("参数说明：要检查的字符串")]),_._v(" "),t("p",[_._v("返回值：0：是1：不是")]),_._v(" "),t("p",[_._v("函数名是")]),_._v(" "),t("p",[_._v("function check(a){")]),_._v(" "),t("p",[_._v("return 1;")]),_._v(" "),t("p",[_._v("fibdn = new Array (”‘” ,”\\”,”/”);")]),_._v(" "),t("p",[_._v("i=fibdn.length;")]),_._v(" "),t("p",[_._v("j=a.length;")]),_._v(" "),t("p",[_._v("for (ii=0; ii＜i; ii++)")]),_._v(" "),t("p",[_._v("{ for (jj=0; jj＜j; jj++)")]),_._v(" "),t("p",[_._v("{ temp1=a.charAt(jj);")]),_._v(" "),t("p",[_._v("temp2=fibdn[ii];")]),_._v(" "),t("p",[_._v("if (tem’; p1==temp2)")]),_._v(" "),t("p",[_._v("{ return 0; }")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("return 1;")]),_._v(" "),t("p",[_._v("}")]),_._v(" "),t("p",[_._v("===================================")]),_._v(" "),t("p",[_._v("总的说来，防范一般的SQL注入只要在代码规范上下点功夫就可以了。")]),_._v(" "),t("p",[_._v("凡涉及到执行的SQL中有变量时，用JDBC（或者其他数据持久层）提供的如：PreparedStatement就可以 ，切记不要用拼接字符串的方法就可以了。")])])}),[],!1,null,null,null);v.default=r.exports}}]);